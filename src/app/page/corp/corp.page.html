<header class="header" [headerTpl]="headerTpl" [isBackButton]="false" [style]="{}">
</header>
<ng-template #headerTpl>
    <div style="display:flex">
        <div style="flex:1">
            <img src="https://nonunbub.s3.ap-northeast-2.amazonaws.com/static/fe-assets/new/arrow-left.svg"
                class="nnb-icon" (click)="location.back()">
        </div>
        <div class="header-title-md" *ngIf="corp">{{corp.name}}</div>
        <div style="flex:1"></div>
    </div>
</ng-template>

<div class="frame">
    <div class="section-md" style="padding-top: 8px;">
        <ng-container *ngIf="corp">
            <div style="margin-bottom:24px;display: flex;gap:8px;align-items: center;">
                <img [src]="corp.logo" style="width:32px;height:32px"
                    onerror="this.onerror=null; this.src='/assets/black-ball.png';">
                <div style="font-size: 22px;font-weight: 600;">{{corp.name}}</div>
            </div>
            <div style="background: rgb(185, 218, 247);padding: 24px;border-radius: 24px;margin-top: 16px;">
                <div style="font-size: 14px;font-weight: 600;margin-bottom:4px">Stock AI 요약</div>
                <div *ngIf="!summary" class="desc loading-ellipsis" style="margin-bottom:32px">요약 중입니다</div>
                <div *ngIf="summary" id="summary">{{summary}}</div>
            </div>
        </ng-container>
    </div>

    <div class="section-md">
        <div style="overflow: auto;">
            <table>
                <thead>
                    <tr>
                        <th>연도</th>
                        <th>매출액</th>
                        <th>영업이익</th>
                        <th>당기순이익</th>
                        <th>영업이익률</th>
                        <th>순이익률</th>
                        <th>ROE</th>
                        <th>EPS</th>
                        <th>PER</th>
                        <th>BPS</th>
                        <th>PBR</th>
                        <th>연평균 매출액 증감률</th>
                        <th>연평균 순이익 증감률</th>
                        <th>영업이익 증감률</th>
                        <th>순이익 증감률</th>
                        <th>주당배당금</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let finance of corp?.finances">
                        <td class="otherTd">{{finance?.year}}<br>
                            <span *ngIf="finance?.year == 202412">(E)</span>
                        </td>
                        <td class="otherTd">{{finance?.fullRevenue |number}}{{finance?.fullRevenue?'억원':''}}</td>
                        <td class="otherTd">{{finance?.operatingProfit|number}}{{finance?.operatingProfit?'억원':''}}</td>
                        <td class="otherTd">{{finance?.netIncome| number}}{{finance?.netIncome?'억원':''}}</td>
                        <td class="otherTd">
                            {{finance?.operatingProfitMargin|number}}{{finance?.operatingProfitMargin?'%':''}}</td>
                        <td class="otherTd">{{finance?.netProfitMargin|number}}{{finance?.netProfitMargin?'%':''}}</td>
                        <td class="otherTd">{{finance?.roe| number}}{{finance?.roe?'%':''}}</td>
                        <td class="otherTd">{{finance?.eps| number}}{{finance?.eps?'원':''}}</td>
                        <td class="otherTd">{{finance?.per| number}}{{finance?.per?'배':''}}</td>
                        <td class="otherTd">{{finance?.bps| number}}{{finance?.bps?'원':''}}</td>
                        <td class="otherTd">{{finance?.pbr| number}}{{finance?.pbr?'배':''}}</td>
                        <td class="otherTd">
                            {{finance?.revenuePerYearIncreaseRatio|number}}{{finance?.revenuePerYearIncreaseRatio?'%':''}}
                        </td>
                        <td class="otherTd">
                            {{finance?.netProfitPerYearIncreaseRatio|number}}{{finance?.netProfitPerYearIncreaseRatio?'%':''}}
                        </td>
                        <td class="otherTd">
                            {{finance?.operatingProfitIncreaseRatio|number}}{{finance?.operatingProfitIncreaseRatio?'%':''}}
                        </td>
                        <td class="otherTd">
                            {{finance?.netProfitIncreaseRatio|number}}{{finance?.netProfitIncreaseRatio?'%':''}}</td>
                        <td class="otherTd">{{finance?.dividendPerShare|number}}{{finance?.dividendPerShare?'원':''}}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>